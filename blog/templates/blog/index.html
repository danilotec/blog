{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="{% static 'blog/style.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Domine:wght@400..700&display=swap" rel="stylesheet">
<title>Blog</title>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">
        <span class="theme-icon moon">üåô</span>
        <span class="theme-icon sun">‚òÄÔ∏è</span>
    </button>
    <div class="container">
        <div class="articles">
            <h1>Artigos</h1>
            {% if articles %}
            <ul>
                {% for art in articles %}
                <li>
                <a href="{% url 'article_detail' art.pk %}">
                {{ art.title }}
                </a>
                </li>
                {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="article-detail">
            {% if article %}
            <h2>{{ article.title }}</h2>
            <p>{{ article.article_html|safe }}</p>
            <small>Publicado em: {{ article.create_at|date:"d/m/Y H:i" }} - 
                Autor: {{ article.author }}</small>
            {% else %}
            <div class="welcome-section">
            <h2>Bem-vindo ao Meu Blog</h2>
            <p class="subtitle">Explorando ideias, 
                compartilhando conhecimento</p>
            
            <p class="description">
                Me chamo Danilo Andrade, sou desenvolvedor backend e IOT, 
                atuo tamb√©m na area de automac√£o industrial, criando projetos, 
                solu√ß√µes e prestando consultoria,
                criei esse blog com a inten√ß√£o de compartilhar alguns 
                conhecimentos. 
            </p>
            <p class="description">
                Gostaria de saber mais sobre os meus trabalhos?
                <a href="https://danilotec.github.io/" target="_blank">clique aqui</a>.
            </p>
            <p class="description">
                Esse Blog √© um projeto simples usando Django, uma ferramenta 
                excelente, tendo em vista que a mesma ja tem tudo que eu preciso, 
                como n√£o sou um professor, e minha inten√ß√£o √© compartilhar meu
                conhecimento com amigos de forma que fiquem gravados e possam 
                consulta-lo a qualquer momento, n√£o criei nada complexo, e o 
                banco de dados √© o pr√≥prio sqlite, a hospedagem √© um pequeno 
                homeserver, rodando ubuntu server.
            </p> 
        
            <div class="features">
                <div class="feature">
                    <h3>üöÄ Conte√∫do Original</h3>
                    <p>Artigos √∫nicos baseados em experi√™ncia pr√°tica e pesquisa
                         aprofundada sobre cada tema abordado.</p>
                </div>
                <div class="feature">
                    <h3>üìö Aprendizado Cont√≠nuo</h3>
                    <p>Compartilho descobertas e li√ß√µes aprendidas no dia a dia,
                         sempre com foco no crescimento m√∫tuo.</p>
                </div>
                <div class="feature">
                    <h3>üí° Insights Pr√°ticos</h3>
                    <p>Dicas e estrat√©gias aplic√°veis que voc√™ pode usar em seus
                         pr√≥prios projetos e desafios.</p>
                </div>
                <div class="feature">
                    <h3>üåü Diversidade de Temas</h3>
                    <p>De tecnologia a desenvolvimento pessoal, explorando 
                        diferentes √°reas do conhecimento.</p>
                </div>
            </div>
            
            <div class="cta">
                <h3>Comece sua Jornada</h3>
                <p>Navegue pelos artigos na sidebar ao lado e descubra conte√∫dos
                     que podem transformar sua perspectiva. Cada artigo foi 
                     escrito com carinho e dedica√ß√£o para agregar 
                     valor ao seu dia.</p>
            </div>
        </div>
            {% endif %}
        </div>
    </div>
    <script>
    // Fun√ß√£o para alternar entre temas
    function toggleTheme() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
    }

    // Carregar tema salvo ou usar dark como padr√£o
    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        // Se n√£o h√° tema salvo, usa dark como padr√£o
        const theme = savedTheme || 'dark';
        document.documentElement.setAttribute('data-theme', theme);
    }

    // Carregar tema ao inicializar
    document.addEventListener('DOMContentLoaded', loadTheme);

    // Escutar mudan√ßas na prefer√™ncia do sistema
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
        // S√≥ muda automaticamente se n√£o h√° prefer√™ncia salva
        if (!localStorage.getItem('theme')) {
            document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');
        }
    });
    </script>
    </body>
</html>
